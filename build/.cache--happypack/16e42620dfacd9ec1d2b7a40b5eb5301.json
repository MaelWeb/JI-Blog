{"remainingRequest":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js?{\"presets\":[]}!/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js","dependencies":[{"path":"/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js","mtime":1517537918524},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ScrollToTopBtn = function (_React$Component) {\n    (0, _inherits3.default)(ScrollToTopBtn, _React$Component);\n\n    function ScrollToTopBtn(props) {\n        (0, _classCallCheck3.default)(this, ScrollToTopBtn);\n\n        var _this2 = (0, _possibleConstructorReturn3.default)(this, (ScrollToTopBtn.__proto__ || (0, _getPrototypeOf2.default)(ScrollToTopBtn)).call(this, props));\n\n        _this2.scrollToTop = function () {\n            var _this = _this2;\n            function toTop() {\n                var timer = null;\n                var winscroll = window.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body.scrollTop || 0;\n                var speed = Math.ceil(winscroll * 20 / 100);\n                window.scrollBy(0, -speed);\n                if (winscroll > 0) {\n                    timer = setTimeout(toTop, 10);\n                } else {\n                    _this.isScrolling = false;\n                    _this.setState({ shown: 'none' });\n                    clearInterval(timer);\n                    timer = null;\n                }\n                document.addEventListener(\"touchmove\", function () {\n                    clearInterval(timer);\n                });\n            }\n            _this.isScrolling = true;\n            toTop();\n        };\n\n        _this2.state = {\n            shown: 'none'\n        };\n\n        _this2.scrollTop = 0;\n        _this2.isScrolling = false;\n        return _this2;\n    }\n\n    (0, _createClass3.default)(ScrollToTopBtn, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var height = document.documentElement.clientHeight;\n            this.showWhenScrollTo = parseInt(height);\n            this.scrollListener = this.handleScroll.bind(this);\n            this.attachScrollListener();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.attachScrollListener();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.detachScrollListener();\n        }\n    }, {\n        key: 'attachScrollListener',\n        value: function attachScrollListener() {\n            window.addEventListener('scroll', this.scrollListener, false);\n        }\n    }, {\n        key: 'detachScrollListener',\n        value: function detachScrollListener() {\n            window.removeEventListener('scroll', this.scrollListener);\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll() {\n            if (this.isScrolling) return;\n            var scrollTop = window.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body.scrollTop || 0;\n            if (scrollTop >= this.showWhenScrollTo && scrollTop < this.scrollTop) {\n                this.setState({ shown: '' });\n            } else {\n                this.setState({ shown: 'none' });\n            }\n            this.scrollTop = scrollTop;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var style = {\n                // display: this.state.shown\n            };\n            return _react2.default.createElement(\n                'a',\n                { href: 'javascript:;', onClick: this.scrollToTop, className: (0, _classnames2.default)(\"backTop animated\", { fadeInUp: !this.state.shown, fadeOutH: this.state.shown }), style: style },\n                _react2.default.createElement('i', { className: 'iconfont icon-top' })\n            );\n        }\n    }]);\n    return ScrollToTopBtn;\n}(_react2.default.Component);\n\nexports.default = ScrollToTopBtn;",null]}