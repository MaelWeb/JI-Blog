{"remainingRequest":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js?{\"presets\":[]}!/Users/mael.liang/Workspace/node-koa-test/web/page/admin/ArticleEdite/index.js","dependencies":[{"path":"/Users/mael.liang/Workspace/node-koa-test/web/page/admin/ArticleEdite/index.js","mtime":1519640382929},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _upload = require('antd/lib/upload');\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _spin = require('antd/lib/spin');\n\nvar _spin2 = _interopRequireDefault(_spin);\n\nvar _button = require('antd/lib/button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _icon = require('antd/lib/icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _message2 = require('antd/lib/message');\n\nvar _message3 = _interopRequireDefault(_message2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _modal = require('antd/lib/modal');\n\nvar _modal2 = _interopRequireDefault(_modal);\n\nvar _radio = require('antd/lib/radio');\n\nvar _radio2 = _interopRequireDefault(_radio);\n\nvar _input = require('antd/lib/input');\n\nvar _input2 = _interopRequireDefault(_input);\n\nvar _tag = require('antd/lib/tag');\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nvar _layout = require('antd/lib/layout');\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _EditorMd = require('Components/EditorMd');\n\nvar _EditorMd2 = _interopRequireDefault(_EditorMd);\n\nvar _config = require('../../../config/');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nrequire('./index.less');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Header = _layout2.default.Header,\n    Content = _layout2.default.Content;\n\nvar CheckableTag = _tag2.default.CheckableTag;\nvar TextArea = _input2.default.TextArea;\n\nvar RadioGroup = _radio2.default.Group;\nvar ModalConfirm = _modal2.default.confirm;\n\nvar AddArticle = function (_Component) {\n    (0, _inherits3.default)(AddArticle, _Component);\n\n    function AddArticle(props) {\n        (0, _classCallCheck3.default)(this, AddArticle);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (AddArticle.__proto__ || (0, _getPrototypeOf2.default)(AddArticle)).call(this, props));\n\n        _this.showInput = function () {\n            _this.setState({ inputVisible: true }, function () {\n                return _this.input.focus();\n            });\n        };\n\n        _this.saveInputRef = function (input) {\n            return _this.input = input;\n        };\n\n        _this.saveEditorRef = function (editor) {\n            return _this.editor = editor;\n        };\n\n        _this.saveTextAreaRef = function (textArea) {\n            return _this.textArea = textArea;\n        };\n\n        _this.handleInputChange = function (e) {\n            _this.setState({ inputValue: e.target.value });\n        };\n\n        _this.createArticle = function () {\n            var _this$state = _this.state,\n                articleTitle = _this$state.articleTitle,\n                selectedTags = _this$state.selectedTags,\n                banner = _this$state.banner;\n\n\n            var articleMarkdown = _this.editor.getMarkdown(),\n                articleHtml = _this.editor.getHTML(),\n                articleAbstract = _this.state.articleAbstract;\n\n            // let reg =  /<img[^>]+src=['\"]([^'\"]+)['\"]+/g;\n\n            // let images = [], temp;\n\n            // if (!banner) {\n            //     while( (temp = reg.exec(articleHtml)) != null ) {\n            //         images.push(temp[1]);\n            //     }\n\n            //     banner = images[0] || '';\n            // }\n\n            if (!articleTitle) return _this.context.showMessage('请输入文章标题');\n\n            var params = {\n                title: articleTitle,\n                content: articleMarkdown,\n                htmlContent: articleHtml,\n                abstract: articleAbstract,\n                tags: selectedTags,\n                publish: false,\n                banner: banner\n            };\n\n            if (!articleAbstract) {\n                return ModalConfirm({\n                    title: '尚未添加文章摘要，是否添加?',\n                    okText: \"添加\",\n                    cancelText: \"不添加\",\n                    onOk: function onOk() {\n                        _this.showModal();\n                    },\n                    onCancel: function onCancel() {\n                        _this.doCreate(params);\n                    }\n                });\n            }\n            _this.doCreate(params);\n        };\n\n        _this.saveArticle = function () {\n            var _this$state2 = _this.state,\n                articleTitle = _this$state2.articleTitle,\n                selectedTags = _this$state2.selectedTags,\n                aid = _this$state2.aid,\n                banner = _this$state2.banner;\n            var query = _this.context.query;\n\n\n            var articleMarkdown = _this.editor.getMarkdown(),\n                articleHtml = _this.editor.getHTML(),\n                articleAbstract = _this.state.articleAbstract;\n\n            if (!articleTitle) return _this.context.showMessage('请输入文章标题');\n\n            var params = {\n                title: articleTitle,\n                content: articleMarkdown,\n                htmlContent: articleHtml,\n                abstract: articleAbstract,\n                tags: selectedTags,\n                banner: banner\n            };\n            if (_this.isPosting) return;\n            _this.isPosting = true;\n            var hide = _message3.default.loading('文章保存中...', 0);\n            _axios2.default.post('/api/update/article/' + (query.aid || aid), params).then(function (res) {\n                _this.isPosting = false;\n                hide();\n                var resData = res.data;\n                _message3.default.info(resData.message);\n            }).catch(function (err) {\n                hide();\n                _message3.default.warning(resData.message);\n                _this.isPosting = false;\n            });\n        };\n\n        _this.handleInputConfirm = function () {\n            var inputValue = _this.state.inputValue;\n\n            if (!inputValue) {\n                _this.context.showMessage(\"请输入标签名\");\n            } else {\n                _this.creatTag();\n            }\n        };\n\n        _this.handleInputBlur = function () {\n            var inputValue = _this.state.inputValue;\n\n            if (!inputValue) {\n                _this.setState({\n                    inputVisible: false\n                });\n            } else {\n                _this.creatTag();\n            }\n        };\n\n        _this.titleInputChange = function (e) {\n            _this.setState({\n                articleTitle: e.target.value\n            });\n        };\n\n        _this.showModal = function () {\n            _this.setState({\n                isAbstractModalShow: true\n            });\n        };\n\n        _this.showBannerModal = function () {\n            _this.setState({\n                isBannerModalShow: true\n            });\n        };\n\n        _this.showExportModal = function () {\n            _this.setState({\n                isCategoryModalShow: true\n            });\n        };\n\n        _this.articleAbstractOk = function () {\n            _this.setState({\n                isAbstractModalShow: false,\n                articleAbstract: _this.textArea.textAreaRef.value\n            });\n        };\n\n        _this.articleAbstractCancle = function () {\n            _this.setState({\n                isAbstractModalShow: false\n            });\n        };\n\n        _this.exportModalOk = function () {\n            var query = _this.context.query;\n            var _this$state3 = _this.state,\n                aid = _this$state3.aid,\n                category = _this$state3.category,\n                selectedTags = _this$state3.selectedTags,\n                banner = _this$state3.banner,\n                articleTitle = _this$state3.articleTitle;\n\n\n            var articleMarkdown = _this.editor.getMarkdown(),\n                articleHtml = _this.editor.getHTML(),\n                articleAbstract = _this.state.articleAbstract;\n\n            if (!articleTitle) return _this.context.showMessage('请输入文章标题');\n\n            var params = {\n                title: articleTitle,\n                content: articleMarkdown,\n                htmlContent: articleHtml,\n                abstract: articleAbstract,\n                tags: selectedTags,\n                banner: banner\n            };\n\n            _axios2.default.post('/api/publish/article/' + (query.aid || aid), (0, _extends3.default)({ category: category }, params)).then(function (res) {\n                _this.context.showMessage(res.data.message);\n                _this.setState({\n                    isCategoryModalShow: false,\n                    isPublish: res.data.code == 200 ? true : false\n                });\n            }).catch(function (err) {\n                _this.context.showMessage('服务器错误');\n            });\n        };\n\n        _this.recallArticle = function () {\n            var query = _this.context.query;\n            var _this$state4 = _this.state,\n                aid = _this$state4.aid,\n                category = _this$state4.category;\n\n\n            _axios2.default.post('/api/recall/article/' + (query.aid || aid)).then(function (res) {\n                _this.context.showMessage(res.data.message);\n                _this.setState({\n                    isPublish: res.data.code == 200 ? false : true\n                });\n            }).catch(function (err) {\n                _this.context.showMessage('服务器错误');\n            });\n        };\n\n        _this.exportModalCancle = function () {\n            _this.setState({\n                isCategoryModalShow: false,\n                newBanner: null\n            });\n        };\n\n        _this.bannerModalCancle = function () {\n            if (_this.state.newBanner) {\n                _this.deleteNewBanner(_this.state.newBanner).then(function (res) {\n                    _this.setState({\n                        isBannerModalShow: false,\n                        newBanner: ''\n                    });\n                });\n            } else {\n                _this.setState({\n                    isBannerModalShow: false\n                });\n            }\n        };\n\n        _this.bannerModalOk = function () {\n            var _this$state5 = _this.state,\n                newBanner = _this$state5.newBanner,\n                banner = _this$state5.banner;\n\n            if (banner) {\n                var key = banner.split(_config.IMG_URL)[1];\n                key = key.split(_config.IMG_QUERY)[0];\n                _this.deleteNewBanner(key).then(function (res) {\n                    _this.setState({\n                        isBannerModalShow: false,\n                        banner: '' + _config.IMG_URL + newBanner\n                    });\n                });\n            } else {\n                _this.setState({\n                    banner: newBanner ? '' + _config.IMG_URL + newBanner : null,\n                    isBannerModalShow: false\n                });\n            }\n        };\n\n        _this.onRadioChange = function (e) {\n            _this.setState({\n                category: e.target.value\n            });\n        };\n\n        _this.uploadHandleChange = function (info) {\n            if (info.file.status === 'done') {\n                _this.state.newBanner && _this.deleteNewBanner(_this.state.newBanner);\n                var newBanner = info.file.response.data.key;\n                _this.setState({ newBanner: newBanner });\n            }\n        };\n\n        _this.state = {\n            selectedTags: [],\n            inputVisible: false,\n            tags: [],\n            articleTitle: '',\n            articleAbstract: '',\n            banner: '',\n            newBanner: '',\n            isAbstractModalShow: false,\n            isCategoryModalShow: false,\n            markdownContent: null,\n            aid: null,\n            category: 'DEFAULT',\n            isPublish: false,\n            isBannerModalShow: false\n        };\n\n        _this.isPosting = false;\n        return _this;\n    }\n\n    (0, _createClass3.default)(AddArticle, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var _this2 = this;\n\n            var query = this.context.query;\n\n            if (query.aid) {\n                this.getArticle(query.aid);\n            }\n\n            _axios2.default.get('/api/get/alltags').then(function (res) {\n                _this2.setState({\n                    tags: res.data.tags\n                });\n            });\n        }\n    }, {\n        key: 'getArticle',\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(id) {\n                var _this3 = this;\n\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                return _context.abrupt('return', _axios2.default.get('/api/get/article/' + id).then(function (res) {\n                                    var article = res.data.article;\n                                    _this3.setState({\n                                        articleAbstract: article.abstract,\n                                        articleTitle: article.title,\n                                        selectedTags: article.tags.map(function (tag) {\n                                            return tag.id;\n                                        }),\n                                        markdownContent: article.content,\n                                        category: article.category,\n                                        isPublish: article.publish,\n                                        banner: article.banner\n                                    });\n                                }));\n\n                            case 1:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function getArticle(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return getArticle;\n        }()\n    }, {\n        key: 'tagChange',\n        value: function tagChange(tag, checked) {\n            var selectedTags = this.state.selectedTags;\n\n            var nextSelectedTags = checked ? [].concat((0, _toConsumableArray3.default)(selectedTags), [tag.id]) : selectedTags.filter(function (t) {\n                return t !== tag.id;\n            });\n\n            this.setState({ selectedTags: nextSelectedTags });\n            _axios2.default.post('/api/update/tag/count', { id: tag.id, type: checked ? 1 : -1 });\n        }\n    }, {\n        key: 'doCreate',\n        value: function doCreate(params) {\n            var _this4 = this;\n\n            if (this.isPosting) return;\n            this.isPosting = true;\n            var hide = _message3.default.loading('文章创建中...', 0);\n            _axios2.default.post('/api/create/article', params).then(function (res) {\n                hide();\n                _this4.context.showMessage(res.data.message);\n                _this4.isPosting = false;\n                if (res.data.code == 200) {\n                    _this4.setState({\n                        aid: res.data.article.id\n                    });\n                    // this.state.markdownContent = params.content;\n                    // this.props.history.replace({pathname: '/edit', search: `?aid=${res.data.article.id}`});\n                }\n            }).catch(function (err) {\n                hide();\n                _this4.context.showMessage(err);\n                _this4.isPosting = false;\n            });\n        }\n    }, {\n        key: 'creatTag',\n        value: function creatTag() {\n            var _this5 = this;\n\n            var _state = this.state,\n                tags = _state.tags,\n                inputValue = _state.inputValue,\n                selectedTags = _state.selectedTags;\n\n\n            var isCreate = tags.filter(function (t) {\n                return t.name === inputValue;\n            });\n            if (isCreate.length) {\n\n                if (selectedTags.indexOf(isCreate[0].id) == -1) {\n                    _axios2.default.post('/api/update/tag/count', { id: tag.id, type: 1 });\n                    this.setState({\n                        inputVisible: false,\n                        selectedTags: [].concat((0, _toConsumableArray3.default)(selectedTags), [isCreate[0].id]),\n                        inputValue: ''\n                    });\n                } else {\n                    this.setState({\n                        inputVisible: false,\n                        inputValue: ''\n                    });\n                }\n\n                return false;\n            }\n            _axios2.default.post('/api/create/tag', { name: inputValue, count: 1 }).then(function (res) {\n                _this5.setState({\n                    selectedTags: [].concat((0, _toConsumableArray3.default)(selectedTags), [res.data.tag.id]),\n                    tags: [].concat((0, _toConsumableArray3.default)(tags), [res.data.tag]),\n                    inputVisible: false,\n                    inputValue: ''\n                });\n            }).catch(function (err) {\n                _this5.context.showMessage(err);\n            });\n        }\n    }, {\n        key: 'deleteNewBanner',\n        value: function deleteNewBanner(key) {\n            return _axios2.default.post(\"/api/filedelete\", {\n                key: key\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            var _state2 = this.state,\n                selectedTags = _state2.selectedTags,\n                inputVisible = _state2.inputVisible,\n                inputValue = _state2.inputValue,\n                tags = _state2.tags,\n                isAbstractModalShow = _state2.isAbstractModalShow,\n                articleAbstract = _state2.articleAbstract,\n                articleTitle = _state2.articleTitle,\n                markdownContent = _state2.markdownContent,\n                aid = _state2.aid,\n                isCategoryModalShow = _state2.isCategoryModalShow,\n                category = _state2.category,\n                isPublish = _state2.isPublish,\n                banner = _state2.banner,\n                isBannerModalShow = _state2.isBannerModalShow,\n                newBanner = _state2.newBanner;\n            var query = this.context.query;\n\n\n            return _react2.default.createElement(\n                _layout2.default,\n                { className: 'add-article-layout' },\n                _react2.default.createElement(\n                    Header,\n                    { className: 'add-article-header clearfix' },\n                    _react2.default.createElement(\n                        'h3',\n                        null,\n                        _react2.default.createElement(\n                            _reactRouterDom.Link,\n                            { to: '/' },\n                            _react2.default.createElement(_icon2.default, { type: 'home' }),\n                            ' '\n                        ),\n                        ' / ',\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            '\\u6587\\u7AE0\\u7F16\\u8F91'\n                        )\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: (0, _classnames2.default)(\"article-title tc\", { 'creat-pr': !query.aid && !aid }) },\n                        _react2.default.createElement('input', { type: 'text', placeholder: '\\u65B0\\u589E\\u6587\\u7AE0\\u6807\\u9898', className: 'article-title-input tc', onChange: this.titleInputChange, value: articleTitle })\n                    ),\n                    query.aid || aid ? _react2.default.createElement(\n                        _button2.default.Group,\n                        null,\n                        _react2.default.createElement(\n                            _button2.default,\n                            { onClick: this.saveArticle },\n                            _react2.default.createElement(_icon2.default, { type: 'save' }),\n                            '\\u4FDD\\u5B58'\n                        ),\n                        isPublish ? _react2.default.createElement(\n                            _button2.default,\n                            { onClick: this.recallArticle },\n                            '\\u64A4\\u56DE',\n                            _react2.default.createElement(_icon2.default, { type: 'rollback' })\n                        ) : _react2.default.createElement(\n                            _button2.default,\n                            { onClick: this.showExportModal },\n                            '\\u53D1\\u5E03',\n                            _react2.default.createElement(_icon2.default, { type: 'export' })\n                        )\n                    ) : _react2.default.createElement(\n                        'div',\n                        { className: 'single-btn' },\n                        _react2.default.createElement(\n                            _button2.default,\n                            { onClick: this.createArticle },\n                            _react2.default.createElement(_icon2.default, { type: 'file' }),\n                            '\\u521B\\u5EFA'\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    Content,\n                    null,\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'tags-wrap' },\n                        '\\u6807\\u7B7E\\uFF1A',\n                        tags.map(function (tag) {\n                            return _react2.default.createElement(\n                                CheckableTag,\n                                {\n                                    key: tag.id,\n                                    checked: selectedTags.indexOf(tag.id) > -1,\n                                    onChange: function onChange(checked) {\n                                        return _this6.tagChange(tag, checked);\n                                    } },\n                                tag.name\n                            );\n                        }),\n                        inputVisible && _react2.default.createElement(_input2.default, {\n                            ref: this.saveInputRef,\n                            type: 'text',\n                            size: 'small',\n                            style: { width: 78 },\n                            value: inputValue,\n                            onChange: this.handleInputChange,\n                            onBlur: this.handleInputBlur,\n                            onPressEnter: this.handleInputConfirm }),\n                        !inputVisible && _react2.default.createElement(\n                            _button2.default,\n                            { size: 'small', type: 'dashed', onClick: this.showInput },\n                            '+ New Tag'\n                        ),\n                        _react2.default.createElement(\n                            _button2.default,\n                            { className: 'fr', type: 'primary', size: 'small', icon: 'pushpin-o', ghost: true, onClick: this.showModal },\n                            articleAbstract ? '修改摘要' : '添加摘要'\n                        ),\n                        _react2.default.createElement(\n                            _button2.default,\n                            { className: 'fr add-banner', type: 'primary', size: 'small', icon: 'picture', ghost: true, onClick: this.showBannerModal },\n                            banner ? '修改头图' : '添加头图'\n                        )\n                    ),\n                    query.aid && (markdownContent ? _react2.default.createElement(_EditorMd2.default, { config: { markdown: markdownContent, height: '100%' }, ref: this.saveEditorRef }) : _react2.default.createElement(_spin2.default, { size: 'large', className: 'spiner' })),\n                    !query.aid ? _react2.default.createElement(_EditorMd2.default, { config: { markdown: '### 请开始你的表演', height: '100%' }, ref: this.saveEditorRef }) : null\n                ),\n                _react2.default.createElement(\n                    _modal2.default,\n                    {\n                        title: '\\u6DFB\\u52A0\\u6458\\u8981',\n                        visible: isAbstractModalShow,\n                        onOk: this.articleAbstractOk,\n                        mask: false,\n                        onCancel: this.articleAbstractCancle },\n                    _react2.default.createElement(TextArea, { placeholder: '\\u8FD9\\u91CC\\u6DFB\\u52A0\\u6587\\u7AE0\\u7684\\u6458\\u8981;\\u786E\\u8BA4\\u624D\\u4FDD\\u5B58\\uFF0C\\u53D6\\u6D88\\u4E0D\\u4FDD\\u5B58\\u5F53\\u6B21\\u66F4\\u6539', autosize: { minRows: 4 }, ref: this.saveTextAreaRef, defaultValue: articleAbstract })\n                ),\n                _react2.default.createElement(\n                    _modal2.default,\n                    {\n                        title: '\\u9009\\u62E9\\u53D1\\u5E03\\u677F\\u5757',\n                        visible: isCategoryModalShow,\n                        onOk: this.exportModalOk,\n                        mask: false,\n                        onCancel: this.exportModalCancle },\n                    _react2.default.createElement(\n                        RadioGroup,\n                        { onChange: this.onRadioChange, value: category },\n                        _react2.default.createElement(\n                            _radio2.default,\n                            { value: 'DEFAULT' },\n                            '\\u9996\\u9875'\n                        ),\n                        _react2.default.createElement(\n                            _radio2.default,\n                            { value: 'TRAVEL' },\n                            '\\u6E38\\u8BB0'\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    _modal2.default,\n                    {\n                        title: 'Banner\\u8BBE\\u7F6E',\n                        visible: isBannerModalShow,\n                        mask: false,\n                        onOk: this.bannerModalOk,\n                        onCancel: this.bannerModalCancle },\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'add-article-banner-box' },\n                        _react2.default.createElement(\n                            _upload2.default,\n                            {\n                                className: 'avatar-uploader',\n                                accept: 'image/*',\n                                action: '/api/fileupload',\n                                data: { prefix: 'article/' },\n                                showUploadList: false,\n                                onChange: this.uploadHandleChange\n                            },\n                            banner || newBanner ? _react2.default.createElement('img', { src: newBanner ? '' + _config.IMG_URL + newBanner : banner, alt: '', className: 'avatar' }) : _react2.default.createElement(_icon2.default, { type: 'plus', className: 'avatar-uploader-trigger' })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n    return AddArticle;\n}(_react.Component);\n\nAddArticle.contextTypes = {\n    showMessage: _propTypes2.default.func,\n    query: _propTypes2.default.object\n};\nexports.default = AddArticle;",null]}