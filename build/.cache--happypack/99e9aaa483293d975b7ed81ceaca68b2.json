{"remainingRequest":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js?{\"presets\":[]}!/Users/mael.liang/Workspace/node-koa-test/web/page/blog/Article/index.js","dependencies":[{"path":"/Users/mael.liang/Workspace/node-koa-test/web/page/blog/Article/index.js","mtime":1518004766166},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Icon = require('../../../components/Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _Comments = require('../Comments');\n\nvar _Comments2 = _interopRequireDefault(_Comments);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _articleLoading = require('./article-loading');\n\nvar _articleLoading2 = _interopRequireDefault(_articleLoading);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_moment2.default.locale('zh-cn');\n\nvar WEIBOKEY = '';\n\nvar Article = function (_Component) {\n    (0, _inherits3.default)(Article, _Component);\n\n    function Article(props) {\n        (0, _classCallCheck3.default)(this, Article);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (Article.__proto__ || (0, _getPrototypeOf2.default)(Article)).call(this, props));\n\n        var article = props.article,\n            comments = props.comments;\n\n        _this.state = {\n            article: article,\n            comments: comments\n        };\n        return _this;\n    }\n\n    (0, _createClass3.default)(Article, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            var _this2 = this;\n\n            var params = this.props.match.params;\n            var article = this.state.article;\n\n            if (!article || article.id != params.id) {\n                _axios2.default.get('/api/get/article/' + params.id, {\n                    params: {\n                        filter: 1\n                    }\n                }).then(function (res) {\n                    var resData = res.data;\n                    document.title = resData.article.title + '  - \\u300CJI \\xB7 \\u8BB0\\u5C0F\\u6808\\u300D';\n                    _this2.setState({\n                        article: resData.article\n                    });\n                });\n\n                _axios2.default.get('/api/get/comments?articleid=' + params.id).then(function (res) {\n                    var resData = res.data;\n                    _this2.setState({\n                        comments: resData.comments\n                    });\n                });\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var article = this.state.article;\n\n            if (article) {\n                document.title = article.title + '  - \\u300CJI \\xB7 \\u8BB0\\u5C0F\\u6808\\u300D';\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _state = this.state,\n                article = _state.article,\n                comments = _state.comments;\n            var params = this.props.match.params;\n\n            var _article = article || {};\n            var cls = (0, _classnames2.default)('blog-article-layout', (0, _defineProperty3.default)({}, 'blog-article-' + (_article.category && _article.category.toLocaleLowerCase()), _article.category));\n            return _react2.default.createElement(\n                'div',\n                { className: cls },\n                _article.category == \"TRAVEL\" ? _react2.default.createElement(\n                    'div',\n                    { className: 'article-banner' },\n                    _react2.default.createElement('div', { className: 'bg', style: { backgroundImage: 'url(' + (_article.banner ? _article.banner : \"//cdn.liayal.com/12027196.jpg\") + ')' } }),\n                    _react2.default.createElement(\n                        'h2',\n                        { className: 'article-title' },\n                        _article.title\n                    )\n                ) : null,\n                article ? _react2.default.createElement(\n                    'article',\n                    { className: 'blog-article-body' },\n                    _article.category != \"TRAVEL\" ? _react2.default.createElement(\n                        'h2',\n                        { className: 'article-title' },\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(\n                                'em',\n                                null,\n                                _article.title\n                            )\n                        )\n                    ) : null,\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'article-desc' },\n                        _react2.default.createElement(\n                            'span',\n                            null,\n                            _react2.default.createElement(_Icon2.default, { type: 'date' }),\n                            ' ',\n                            (0, _moment2.default)(_article.createTime).format('LL')\n                        ),\n                        _article.tags && _article.tags.length ? _react2.default.createElement(\n                            'span',\n                            { className: 'ml' },\n                            _react2.default.createElement(_Icon2.default, { type: 'cc-tag' }),\n                            ' ',\n                            _article.tags.map(function (tag) {\n                                return tag.name + ' ';\n                            })\n                        ) : null,\n                        _react2.default.createElement(\n                            'span',\n                            { className: 'ml' },\n                            _react2.default.createElement(_Icon2.default, { type: 'visit' }),\n                            ' ',\n                            _article.visited || 0\n                        )\n                    ),\n                    _react2.default.createElement('div', { className: 'article-content', dangerouslySetInnerHTML: { __html: _article.htmlContent } }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'article-tips' },\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            '\\u5982\\u975E\\u7279\\u522B\\u6CE8\\u660E\\uFF0C\\u6587\\u7AE0\\u7686\\u4E3A\\u539F\\u521B\\u3002'\n                        ),\n                        _react2.default.createElement(\n                            'p',\n                            null,\n                            _react2.default.createElement(\n                                'b',\n                                null,\n                                '\\u8F6C\\u8F7D\\u8BF7\\u6CE8\\u660E\\u51FA\\u5904\\uFF1A'\n                            ),\n                            ' ',\n                            _react2.default.createElement(\n                                'a',\n                                { href: 'https://www.liayal.com/article/' + _article.id },\n                                'https://www.liayal.com/article/' + _article.id\n                            )\n                        )\n                    )\n                ) : _react2.default.createElement(_articleLoading2.default, null),\n                _react2.default.createElement(\n                    'section',\n                    { className: 'article-share-box' },\n                    _react2.default.createElement(\n                        'a',\n                        { href: 'https://service.weibo.com/share/share.php?url=' + encodeURIComponent('http://www.liayal.com/article/' + _article.id) + '&title=' + encodeURIComponent(_article.title) + '&pic=' + encodeURIComponent(_article.banner || '') + '&appkey=' + WEIBOKEY, className: 'share-icon' },\n                        _react2.default.createElement(_Icon2.default, { type: 'weibo' })\n                    ),\n                    _react2.default.createElement(\n                        'a',\n                        { href: 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + encodeURIComponent('http://www.liayal.com/article/' + _article.id) + '&title=' + encodeURIComponent(_article.title) + '&desc=' + encodeURIComponent(_article.abstract) + '&summary=' + encodeURIComponent(_article.abstract) + '&site=' + encodeURIComponent('//hynal.com'), className: 'share-icon' },\n                        _react2.default.createElement(_Icon2.default, { type: 'qzone' })\n                    ),\n                    _react2.default.createElement(\n                        'a',\n                        { href: 'http://shuo.douban.com/!service/share?href=' + encodeURIComponent('http://www.liayal.com/article/' + _article.id) + '&name=' + encodeURIComponent(_article.title) + '&text=' + encodeURIComponent(_article.abstract) + '&image=' + encodeURIComponent(_article.banner || '') + '&starid=0&aid=0&style=11', className: 'share-icon' },\n                        _react2.default.createElement(_Icon2.default, { type: 'douban' })\n                    )\n                ),\n                _react2.default.createElement(_Comments2.default, { articleid: params.id, comments: comments })\n            );\n        }\n    }]);\n    return Article;\n}(_react.Component);\n\nexports.default = Article;",null]}