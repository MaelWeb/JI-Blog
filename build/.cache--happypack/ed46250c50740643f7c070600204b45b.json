{"remainingRequest":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js?{\"presets\":[\"react-hmre\"]}!/Users/mael.liang/Workspace/node-koa-test/web/components/Emoji/index.js","dependencies":[{"path":"/Users/mael.liang/Workspace/node-koa-test/web/components/Emoji/index.js","mtime":1513935980000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.emojify = undefined;\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _map = require('babel-runtime/core-js/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _index = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/redbox-react/lib/index.js');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/react-transform-catch-errors/lib/index.js');\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _react2 = require('react');\n\nvar _react3 = _interopRequireDefault(_react2);\n\nvar _index5 = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/react-transform-hmr/lib/index.js');\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _asciiToUnicode = require('./data/ascii-to-unicode');\n\nvar _asciiToUnicode2 = _interopRequireDefault(_asciiToUnicode);\n\nvar _rendererFactory = require('./renderers/renderer-factory');\n\nvar _rendererFactory2 = _interopRequireDefault(_rendererFactory);\n\nvar _emojiFormatConversion = require('./utils/emoji-format-conversion');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _components = {\n    Emojify: {\n        displayName: 'Emojify'\n    }\n};\n\nvar _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformHmrLibIndexJs2 = (0, _index6.default)({\n    filename: '/Users/mael.liang/Workspace/node-koa-test/web/components/Emoji/index.js',\n    components: _components,\n    locals: [module],\n    imports: [_react3.default]\n});\n\nvar _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformCatchErrorsLibIndexJs2 = (0, _index4.default)({\n    filename: '/Users/mael.liang/Workspace/node-koa-test/web/components/Emoji/index.js',\n    components: _components,\n    locals: [],\n    imports: [_react3.default, _index2.default]\n});\n\nfunction _wrapComponent(id) {\n    return function (Component) {\n        return _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformHmrLibIndexJs2(_UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformCatchErrorsLibIndexJs2(Component, id), id);\n    };\n}\n\nvar DEFAULT_OPTIONS = {\n    convertShortnames: true,\n    convertUnicode: true,\n    convertAscii: true,\n    style: {\n        backgroundImage: 'url(https://github.com/pladaria/react-emojione/blob/emojione3/assets/sprites/emojione-3.1.2-64x64.png?raw=true)'\n    },\n    onClick: undefined,\n    output: 'emoji' // valid options: 'emoji', 'unicode'\n};\n\nvar asciiToUnicodeCache = new _map2.default();\nvar asciiRegExpToUnicode = new _map2.default();\n\n_asciiToUnicode2.default.forEach(function (_ref) {\n    var _ref2 = (0, _slicedToArray3.default)(_ref, 2),\n        reStr = _ref2[0],\n        unicode = _ref2[1];\n\n    return asciiRegExpToUnicode.set(RegExp(reStr), unicode);\n});\n\n// Escape RegExp code borrowed from lodash\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reHasRegExpChar = RegExp(reRegExpChar.source);\nvar escapeRegExp = function escapeRegExp(s) {\n    return s && reHasRegExpChar.test(s) ? s.replace(reRegExpChar, '\\\\$&') : s;\n};\n\nvar convertAsciiToUnicodeOrNull = function convertAsciiToUnicodeOrNull(text) {\n    if (!text) {\n        return '';\n    }\n    var str = String(text);\n    if (asciiToUnicodeCache.has(str)) {\n        return asciiToUnicodeCache.get(str);\n    }\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = (0, _getIterator3.default)(asciiRegExpToUnicode.entries()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _ref3 = _step.value;\n\n            var _ref4 = (0, _slicedToArray3.default)(_ref3, 2);\n\n            var regExp = _ref4[0];\n            var unicode = _ref4[1];\n\n            if (str.replace(regExp, unicode) === unicode) {\n                asciiToUnicodeCache.set(str, unicode);\n                return unicode;\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return null;\n};\n\nvar asciiRegexStr = _asciiToUnicode2.default.map(function (_ref5) {\n    var _ref6 = (0, _slicedToArray3.default)(_ref5, 1),\n        reStr = _ref6[0];\n\n    return reStr;\n}).join('|');\nvar unicodesRegexStr = _emojiFormatConversion.unicodes.map(escapeRegExp).join('|');\nvar shortnamesRegexStr = ':[+-\\\\d\\\\w]+:';\n\nvar REGEX_CACHE = [];\n\nvar getRegex = function getRegex(withUnicode, withAscii, withShortnames) {\n    var index = (withUnicode ? 1 : 0) + (withAscii ? 2 : 0) + (withShortnames ? 4 : 0);\n    if (!REGEX_CACHE[index]) {\n        var parts = [withShortnames ? shortnamesRegexStr : '', withUnicode ? unicodesRegexStr : '', withAscii ? asciiRegexStr : ''].filter(Boolean);\n        REGEX_CACHE[index] = RegExp('(' + parts.join('|') + ')');\n    }\n    return REGEX_CACHE[index];\n};\n\nvar startsWithSpace = function startsWithSpace(str) {\n    return (/^\\s/.test(str)\n    );\n};\nvar endsWithSpace = function endsWithSpace(str) {\n    return (/\\s$/.test(str)\n    );\n};\n\nvar shouldConvertAscii = function shouldConvertAscii(parts, index) {\n    if (parts.length === 1) {\n        return true;\n    }\n    if (index === 0) {\n        return startsWithSpace(parts[index + 1]);\n    }\n    if (index === parts.length - 1) {\n        return endsWithSpace(parts[index - 1]);\n    }\n    return endsWithSpace(parts[index - 1]) && startsWithSpace(parts[index + 1]);\n};\n\nvar emojify = exports.emojify = function emojify(str) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n    var mergedOptions = (0, _assign2.default)({}, DEFAULT_OPTIONS, options);\n\n    var convertShortnames = mergedOptions.convertShortnames,\n        convertUnicode = mergedOptions.convertUnicode,\n        convertAscii = mergedOptions.convertAscii;\n\n\n    var regExp = getRegex(convertUnicode, convertAscii, convertShortnames);\n\n    var renderCodepoint = (0, _rendererFactory2.default)(mergedOptions);\n\n    var convertedParts = str.split(regExp).filter(Boolean).map(function (part, index, parts) {\n        if (convertAscii && shouldConvertAscii(parts, index)) {\n            var unicode = convertAsciiToUnicodeOrNull(part);\n            if (unicode) {\n                return renderCodepoint(_emojiFormatConversion.unicodeToCodepoint.get(unicode), 'a-' + index);\n            }\n        }\n        if (convertShortnames && _emojiFormatConversion.shortToCodepoint.has(part)) {\n            return renderCodepoint(_emojiFormatConversion.shortToCodepoint.get(part), 's-' + index);\n        }\n        if (convertUnicode && _emojiFormatConversion.unicodeToCodepoint.has(part)) {\n            return renderCodepoint(_emojiFormatConversion.unicodeToCodepoint.get(part), 'u-' + index);\n        }\n        return part;\n    });\n\n    return mergedOptions.output === 'unicode' ? convertedParts.join('') : convertedParts;\n};\n\nvar Emojify = _wrapComponent('Emojify')(function (_React$Component) {\n    (0, _inherits3.default)(Emojify, _React$Component);\n\n    function Emojify() {\n        (0, _classCallCheck3.default)(this, Emojify);\n        return (0, _possibleConstructorReturn3.default)(this, (Emojify.__proto__ || (0, _getPrototypeOf2.default)(Emojify)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(Emojify, [{\n        key: 'traverse',\n        value: function traverse(children, options) {\n            var _this2 = this;\n\n            return _react3.default.Children.map(children, function (child) {\n                if (_react3.default.isValidElement(child)) {\n                    return _react3.default.cloneElement(child, {}, _this2.traverse(child.props.children, options));\n                }\n                if (typeof child === 'string') {\n                    return emojify(child, options);\n                }\n                return child;\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var children = this.props.children;\n            return _react3.default.Children.count(children) ? this.traverse(children, this.props) : null;\n        }\n    }]);\n    return Emojify;\n}(_react3.default.Component));\n\nexports.default = Emojify;",{"version":3,"sources":["web/components/Emoji/index.js"],"names":["DEFAULT_OPTIONS","convertShortnames","convertUnicode","convertAscii","style","backgroundImage","onClick","undefined","output","asciiToUnicodeCache","asciiRegExpToUnicode","forEach","reStr","unicode","set","RegExp","reRegExpChar","reHasRegExpChar","source","escapeRegExp","s","test","replace","convertAsciiToUnicodeOrNull","text","str","String","has","get","entries","regExp","asciiRegexStr","map","join","unicodesRegexStr","shortnamesRegexStr","REGEX_CACHE","getRegex","withUnicode","withAscii","withShortnames","index","parts","filter","Boolean","startsWithSpace","endsWithSpace","shouldConvertAscii","length","emojify","options","mergedOptions","renderCodepoint","convertedParts","split","part","children","Children","isValidElement","child","cloneElement","traverse","props","count","Component","Emojify"],"mappings":"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","file":"index.js","sourceRoot":"/Users/mael.liang/Workspace/node-koa-test","sourcesContent":["import React from 'react';\nimport ASCII_DATA from './data/ascii-to-unicode';\nimport getRenderer from './renderers/renderer-factory';\nimport {unicodes, shortToCodepoint, unicodeToCodepoint} from './utils/emoji-format-conversion';\n\nconst DEFAULT_OPTIONS = {\n    convertShortnames: true,\n    convertUnicode: true,\n    convertAscii: true,\n    style: {\n        backgroundImage: 'url(https://github.com/pladaria/react-emojione/blob/emojione3/assets/sprites/emojione-3.1.2-64x64.png?raw=true)'\n    },\n    onClick: undefined,\n    output: 'emoji' // valid options: 'emoji', 'unicode'\n};\n\nconst asciiToUnicodeCache = new Map();\nconst asciiRegExpToUnicode = new Map();\n\nASCII_DATA.forEach(([reStr, unicode]) => asciiRegExpToUnicode.set(RegExp(reStr), unicode));\n\n// Escape RegExp code borrowed from lodash\nconst reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nconst reHasRegExpChar = RegExp(reRegExpChar.source);\nconst escapeRegExp = s =>\n    (s && reHasRegExpChar.test(s)) ? s.replace(reRegExpChar, '\\\\$&') : s;\n\n\nconst convertAsciiToUnicodeOrNull = text => {\n    if (!text) {\n        return '';\n    }\n    const str = String(text);\n    if (asciiToUnicodeCache.has(str)) {\n        return asciiToUnicodeCache.get(str);\n    }\n    for (const [regExp, unicode] of asciiRegExpToUnicode.entries()) {\n        if (str.replace(regExp, unicode) === unicode) {\n            asciiToUnicodeCache.set(str, unicode);\n            return unicode;\n        }\n    }\n    return null;\n};\n\nconst asciiRegexStr = ASCII_DATA.map(([reStr, ]) => reStr).join('|');\nconst unicodesRegexStr = unicodes.map(escapeRegExp).join('|');\nconst shortnamesRegexStr = ':[+-\\\\d\\\\w]+:';\n\nconst REGEX_CACHE = [];\n\nconst getRegex = (withUnicode, withAscii, withShortnames) => {\n    const index = (withUnicode ? 1 : 0) + (withAscii ? 2 : 0) + (withShortnames ? 4 : 0);\n    if (!REGEX_CACHE[index]) {\n        const parts = [\n            withShortnames ? shortnamesRegexStr : '',\n            withUnicode ? unicodesRegexStr : '',\n            withAscii ? asciiRegexStr : '',\n        ].filter(Boolean);\n        REGEX_CACHE[index] = RegExp(`(${parts.join('|')})`);\n    }\n    return REGEX_CACHE[index];\n};\n\nconst startsWithSpace = str => (/^\\s/).test(str);\nconst endsWithSpace = str => (/\\s$/).test(str);\n\nconst shouldConvertAscii = (parts, index) => {\n    if (parts.length === 1) {\n        return true;\n    }\n    if (index === 0) {\n        return startsWithSpace(parts[index + 1]);\n    }\n    if (index === parts.length - 1) {\n        return endsWithSpace(parts[index - 1]);\n    }\n    return endsWithSpace(parts[index - 1]) && startsWithSpace(parts[index + 1]);\n};\n\nexport const emojify = (str, options = {}) => {\n\n    const mergedOptions = Object.assign({}, DEFAULT_OPTIONS, options);\n\n    const {convertShortnames, convertUnicode, convertAscii} = mergedOptions;\n\n    const regExp = getRegex(convertUnicode, convertAscii, convertShortnames);\n\n    const renderCodepoint = getRenderer(mergedOptions);\n\n    const convertedParts = str.split(regExp).filter(Boolean).map((part, index, parts) => {\n        if (convertAscii && shouldConvertAscii(parts, index)) {\n            const unicode = convertAsciiToUnicodeOrNull(part);\n            if (unicode) {\n                return renderCodepoint(unicodeToCodepoint.get(unicode), `a-${index}`);\n            }\n        }\n        if (convertShortnames && shortToCodepoint.has(part)) {\n            return renderCodepoint(shortToCodepoint.get(part), `s-${index}`);\n        }\n        if (convertUnicode && unicodeToCodepoint.has(part)) {\n            return renderCodepoint(unicodeToCodepoint.get(part), `u-${index}`);\n        }\n        return part;\n    });\n\n    return mergedOptions.output === 'unicode' ? convertedParts.join('') : convertedParts;\n};\n\nclass Emojify extends React.Component {\n\n    traverse(children, options) {\n        return React.Children.map(children, child => {\n            if (React.isValidElement(child)) {\n                return React.cloneElement(child, {}, this.traverse(child.props.children, options));\n            }\n            if (typeof child === 'string') {\n                return emojify(child, options);\n            }\n            return child;\n        });\n    }\n\n    render() {\n        const children = this.props.children;\n        return React.Children.count(children)\n            ? this.traverse(children, this.props)\n            : null;\n    }\n}\n\nexport default Emojify;"]}]}