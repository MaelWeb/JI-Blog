{"remainingRequest":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js?{\"presets\":[\"react-hmre\"]}!/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js","dependencies":[{"path":"/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js","mtime":1517537918524},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/Users/mael.liang/Workspace/node-koa-test/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _index = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/redbox-react/lib/index.js');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/react-transform-catch-errors/lib/index.js');\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _react2 = require('react');\n\nvar _react3 = _interopRequireDefault(_react2);\n\nvar _index5 = require('/Users/mael.liang/Workspace/node-koa-test/node_modules/react-transform-hmr/lib/index.js');\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _components = {\n    ScrollToTopBtn: {\n        displayName: 'ScrollToTopBtn'\n    }\n};\n\nvar _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformHmrLibIndexJs2 = (0, _index6.default)({\n    filename: '/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js',\n    components: _components,\n    locals: [module],\n    imports: [_react3.default]\n});\n\nvar _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformCatchErrorsLibIndexJs2 = (0, _index4.default)({\n    filename: '/Users/mael.liang/Workspace/node-koa-test/web/components/ScrollToTop/index.js',\n    components: _components,\n    locals: [],\n    imports: [_react3.default, _index2.default]\n});\n\nfunction _wrapComponent(id) {\n    return function (Component) {\n        return _UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformHmrLibIndexJs2(_UsersMaelLiangWorkspaceNodeKoaTestNode_modulesReactTransformCatchErrorsLibIndexJs2(Component, id), id);\n    };\n}\n\nvar ScrollToTopBtn = _wrapComponent('ScrollToTopBtn')(function (_React$Component) {\n    (0, _inherits3.default)(ScrollToTopBtn, _React$Component);\n\n    function ScrollToTopBtn(props) {\n        (0, _classCallCheck3.default)(this, ScrollToTopBtn);\n\n        var _this2 = (0, _possibleConstructorReturn3.default)(this, (ScrollToTopBtn.__proto__ || (0, _getPrototypeOf2.default)(ScrollToTopBtn)).call(this, props));\n\n        _this2.scrollToTop = function () {\n            var _this = _this2;\n            function toTop() {\n                var timer = null;\n                var winscroll = window.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body.scrollTop || 0;\n                var speed = Math.ceil(winscroll * 20 / 100);\n                window.scrollBy(0, -speed);\n                if (winscroll > 0) {\n                    timer = setTimeout(toTop, 10);\n                } else {\n                    _this.isScrolling = false;\n                    _this.setState({ shown: 'none' });\n                    clearInterval(timer);\n                    timer = null;\n                }\n                document.addEventListener(\"touchmove\", function () {\n                    clearInterval(timer);\n                });\n            }\n            _this.isScrolling = true;\n            toTop();\n        };\n\n        _this2.state = {\n            shown: 'none'\n        };\n\n        _this2.scrollTop = 0;\n        _this2.isScrolling = false;\n        return _this2;\n    }\n\n    (0, _createClass3.default)(ScrollToTopBtn, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var height = document.documentElement.clientHeight;\n            this.showWhenScrollTo = parseInt(height);\n            this.scrollListener = this.handleScroll.bind(this);\n            this.attachScrollListener();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.attachScrollListener();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.detachScrollListener();\n        }\n    }, {\n        key: 'attachScrollListener',\n        value: function attachScrollListener() {\n            window.addEventListener('scroll', this.scrollListener, false);\n        }\n    }, {\n        key: 'detachScrollListener',\n        value: function detachScrollListener() {\n            window.removeEventListener('scroll', this.scrollListener);\n        }\n    }, {\n        key: 'handleScroll',\n        value: function handleScroll() {\n            if (this.isScrolling) return;\n            var scrollTop = window.pageYOffset || document.documentElement && document.documentElement.scrollTop || document.body.scrollTop || 0;\n            if (scrollTop >= this.showWhenScrollTo && scrollTop < this.scrollTop) {\n                this.setState({ shown: '' });\n            } else {\n                this.setState({ shown: 'none' });\n            }\n            this.scrollTop = scrollTop;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var style = {\n                // display: this.state.shown\n            };\n            return _react3.default.createElement(\n                'a',\n                { href: 'javascript:;', onClick: this.scrollToTop, className: (0, _classnames2.default)(\"backTop animated\", { fadeInUp: !this.state.shown, fadeOutH: this.state.shown }), style: style },\n                _react3.default.createElement('i', { className: 'iconfont icon-top' })\n            );\n        }\n    }]);\n    return ScrollToTopBtn;\n}(_react3.default.Component));\n\nexports.default = ScrollToTopBtn;",{"version":3,"sources":["web/components/ScrollToTop/index.js"],"names":["props","scrollToTop","_this","toTop","timer","winscroll","window","pageYOffset","document","documentElement","scrollTop","body","speed","Math","ceil","scrollBy","setTimeout","isScrolling","setState","shown","clearInterval","addEventListener","state","height","clientHeight","showWhenScrollTo","parseInt","scrollListener","handleScroll","bind","attachScrollListener","detachScrollListener","removeEventListener","style","fadeInUp","fadeOutH","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGI,4BAAYA,KAAZ,EAAkB;AAAA;;AAAA,2JACRA,KADQ;;AAAA,eAWlBC,WAXkB,GAWJ,YAAM;AAChB,gBAAIC,cAAJ;AACA,qBAASC,KAAT,GAAiB;AACT,oBAAIC,QAAQ,IAAZ;AACA,oBAAIC,YAAaC,OAAOC,WAAP,IACTC,SAASC,eAAT,IAA4BD,SAASC,eAAT,CAAyBC,SAD5C,IAEVF,SAASG,IAAT,CAAcD,SAFJ,IAGV,CAHP;AAIA,oBAAIE,QAAQC,KAAKC,IAAL,CAAUT,YAAY,EAAZ,GAAiB,GAA3B,CAAZ;AACAC,uBAAOS,QAAP,CAAgB,CAAhB,EAAmB,CAACH,KAApB;AACA,oBAAIP,YAAY,CAAhB,EAAmB;AACfD,4BAAQY,WAAWb,KAAX,EAAkB,EAAlB,CAAR;AACH,iBAFD,MAEO;AACHD,0BAAMe,WAAN,GAAoB,KAApB;AACAf,0BAAMgB,QAAN,CAAe,EAACC,OAAO,MAAR,EAAf;AACAC,kCAAchB,KAAd;AACAA,4BAAQ,IAAR;AACH;AACDI,yBAASa,gBAAT,CAA0B,WAA1B,EAAuC,YAAW;AAC9CD,kCAAchB,KAAd;AACH,iBAFD;AAGP;AACDF,kBAAMe,WAAN,GAAoB,IAApB;AACAd;AACH,SAnCiB;;AAGd,eAAKmB,KAAL,GAAa;AACTH,mBAAO;AADE,SAAb;;AAIA,eAAKT,SAAL,GAAiB,CAAjB;AACA,eAAKO,WAAL,GAAmB,KAAnB;AARc;AASjB;;;;4CA4BmB;AAChB,gBAAIM,SAASf,SAASC,eAAT,CAAyBe,YAAtC;AACA,iBAAKC,gBAAL,GAAwBC,SAAUH,MAAV,CAAxB;AACA,iBAAKI,cAAL,GAAsB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAtB;AACA,iBAAKC,oBAAL;AACH;;;6CAEqB;AAClB,iBAAKA,oBAAL;AACH;;;+CAEuB;AACpB,iBAAKC,oBAAL;AACH;;;+CAGuB;AACpBzB,mBAAOe,gBAAP,CAAwB,QAAxB,EAAkC,KAAKM,cAAvC,EAAuD,KAAvD;AACH;;;+CAEuB;AACpBrB,mBAAO0B,mBAAP,CAA2B,QAA3B,EAAqC,KAAKL,cAA1C;AACH;;;uCAEe;AACZ,gBAAI,KAAKV,WAAT,EAAsB;AACtB,gBAAIP,YAAaJ,OAAOC,WAAP,IACLC,SAASC,eAAT,IAA4BD,SAASC,eAAT,CAAyBC,SADhD,IAENF,SAASG,IAAT,CAAcD,SAFR,IAGN,CAHX;AAIA,gBAAMA,aAAa,KAAKe,gBAAnB,IAAyCf,YAAY,KAAKA,SAA/D,EAA4E;AACxE,qBAAKQ,QAAL,CAAc,EAACC,OAAO,EAAR,EAAd;AACH,aAFD,MAEO;AACH,qBAAKD,QAAL,CAAc,EAACC,OAAO,MAAR,EAAd;AACH;AACD,iBAAKT,SAAL,GAAiBA,SAAjB;AACH;;;iCAGQ;AACL,gBAAIuB,QAAQ;AACR;AADQ,aAAZ;AAGA,mBACI;AAAA;AAAA,kBAAG,MAAK,cAAR,EAAuB,SAAS,KAAKhC,WAArC,EAAkD,WAAY,0BAAW,kBAAX,EAA+B,EAACiC,UAAU,CAAC,KAAKZ,KAAL,CAAWH,KAAvB,EAA8BgB,UAAU,KAAKb,KAAL,CAAWH,KAAnD,EAA/B,CAA9D,EAA0J,OAAOc,KAAjK;AAAwK,qDAAG,WAAU,mBAAb;AAAxK,aADJ;AAGH;;;EApFuC,gBAAMG,S","file":"index.js","sourceRoot":"/Users/mael.liang/Workspace/node-koa-test","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\n\nexport default class ScrollToTopBtn extends React.Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            shown: 'none'\n        };\n\n        this.scrollTop = 0;\n        this.isScrolling = false;\n    }\n\n    scrollToTop = () => {\n        let _this = this;\n        function toTop() {\n                var timer = null;\n                let winscroll =  window.pageYOffset\n                    || (document.documentElement && document.documentElement.scrollTop)\n                    || document.body.scrollTop\n                    || 0;\n                var speed = Math.ceil(winscroll * 20 / 100);\n                window.scrollBy(0, -speed);\n                if (winscroll > 0) {\n                    timer = setTimeout(toTop, 10);\n                } else {\n                    _this.isScrolling = false;\n                    _this.setState({shown: 'none'})\n                    clearInterval(timer);\n                    timer = null;\n                }\n                document.addEventListener(\"touchmove\", function() {\n                    clearInterval(timer);\n                });\n        }\n        _this.isScrolling = true;\n        toTop();\n    }\n\n    componentDidMount() {\n        let height = document.documentElement.clientHeight;\n        this.showWhenScrollTo = parseInt( height );\n        this.scrollListener = this.handleScroll.bind(this);\n        this.attachScrollListener();\n    }\n\n    componentDidUpdate () {\n        this.attachScrollListener();\n    }\n\n    componentWillUnmount () {\n        this.detachScrollListener();\n    }\n\n\n    attachScrollListener () {\n        window.addEventListener('scroll', this.scrollListener, false);\n    }\n\n    detachScrollListener () {\n        window.removeEventListener('scroll', this.scrollListener);\n    }\n\n    handleScroll () {\n        if (this.isScrolling) return;\n        let scrollTop =  window.pageYOffset\n                || (document.documentElement && document.documentElement.scrollTop)\n                || document.body.scrollTop\n                || 0;\n        if ( (scrollTop >= this.showWhenScrollTo) && (scrollTop < this.scrollTop) ) {\n            this.setState({shown: ''})\n        } else {\n            this.setState({shown: 'none'})\n        }\n        this.scrollTop = scrollTop;\n    }\n\n\n    render() {\n        let style = {\n            // display: this.state.shown\n        };\n        return (\n            <a href=\"javascript:;\" onClick={this.scrollToTop} className={ classNames(\"backTop animated\", {fadeInUp: !this.state.shown, fadeOutH: this.state.shown}) } style={style}><i className=\"iconfont icon-top\"></i></a>\n        );\n    }\n\n\n}\n"]}]}