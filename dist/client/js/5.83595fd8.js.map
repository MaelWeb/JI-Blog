{"version":3,"sources":["webpack:///delegated ./node_modules/node-libs-browser/node_modules/process/browser.js from dll-reference common_fe0156c9","webpack:///delegated ./node_modules/warning/browser.js from dll-reference react_fe0156c9","webpack:///./page/blog/Articles/index.js"],"names":["PageSize","props","articles","tags","curTagId","allNum","page","banners","allPage","state","length","getArticles","getAllTags","getBanners","Axios","get","params","then","resData","res","data","setState","bannerDom","backgroundImage","url","href","text","showBanners","pathname","map","tag","count","search","id","name","article","index","title","changePage","Component","defaultProps","tagid","category","pageSize"],"mappings":"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","file":"js/5.83595fd8.js","sourcesContent":["module.exports = (__webpack_require__(/*! dll-reference common_fe0156c9 */ \"dll-reference common_fe0156c9\"))(156);","module.exports = (__webpack_require__(/*! dll-reference react_fe0156c9 */ \"dll-reference react_fe0156c9\"))(1);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Pagination } from 'antd';\nimport Axios from 'axios';\nimport classNames from 'classnames';\n\nconst PageSize = 20;\nexport default class Articles extends Component {\n    constructor(props) {\n        super(props);\n        const { articles, tags, curTagId, allNum, page, banners, allPage } = props;\n        this.state = {\n            articles,\n            tags,\n            curTagId,\n            allNum,\n            page,\n            banners,\n            allPage\n        };\n    }\n\n    static defaultProps = {\n        articles: [],\n        tags: [],\n        banners: [],\n        allPage: 0,\n        curTagId: null\n    }\n\n    componentDidMount() {\n        const { articles, tags, banners } = this.state;\n\n        if (!articles.length || !tags.length || !banners.length) {\n            this.getArticles(1, null);\n            this.getAllTags();\n            this.getBanners();\n        }\n    }\n\n    getArticles = (page, tagid)=> {\n        Axios.get('/api/get/publish/articles', {\n            params: {\n                tag: tagid || null,\n                category: 'DEFAULT',\n                page,\n                pageSize: PageSize\n            }\n        })\n        .then( res => {\n            let resData = res.data;\n            this.setState({\n                articles: resData.articles,\n                curTagId: tagid,\n                allNum: resData.allNum,\n                page: resData.page,\n                allPage: resData.allPage\n            })\n        })\n    }\n\n    getBanners() {\n        Axios.get('/api/get/banners', {\n            params: {\n                page: 'HOME'\n            }\n        })\n        .then( res => {\n            let resData = res.data;\n            this.setState({\n                banners: resData.banners\n            });\n        })\n    }\n\n    getAllTags = () => {\n        Axios.get('/api/get/alltags')\n            .then( res => {\n                let resData = res.data;\n                this.setState({\n                    tags: resData.tags\n                })\n            })\n    }\n\n    changePage = (page, pageSize) => {\n        this.getArticles(page, this.state.curTagId)\n    }\n\n    showBanners() {\n        const { banners } = this.state;\n        let bannerDom = [];\n\n        if (banners.length == 1)\n            return (\n                <div className=\"banners\">\n                    <div className=\"banner-item\" style={ {backgroundImage: `url(${banners[0].url})`} }><a href={banners[0].href ? banners[0].href : \"javascript:void(0);\"} >\n                        <div className=\"text\"><p className='ellipsis'>{banners[0].text}</p></div>\n                    </a></div>\n                </div>\n            )\n\n        if (banners.length == 2)\n            return (\n                <div className=\"banners banners-two clearfix\">\n                    <div className=\"banner-item fl\" style={ {backgroundImage: `url(${banners[0].url})`} } ><a href={banners[0].href ? banners[0].href : \"javascript:void(0);\"} >\n                        <img src={banners[0].url} hidden/>\n                        <div className=\"text\"><p className='ellipsis'>{banners[0].text}</p></div>\n                    </a></div>\n                    <div className=\"banner-item fr\" style={ {backgroundImage: `url(${banners[1].url})`} }><a href={banners[1].href ? banners[1].href : \"javascript:void(0);\"} >\n                        <img src={banners[1].url} hidden/>\n                        <div className=\"text\"><p className='ellipsis'>{banners[1].text}</p></div>\n                    </a></div>\n                </div>\n            )\n\n        if (banners.length == 3)\n            return (\n                <div className=\"banners banners-three clearfix\">\n                    <div className=\"left-col banner-item fl\" style={ {backgroundImage: `url(${banners[0].url})`} } ><a href={banners[0].href ? banners[0].href : \"javascript:void(0);\"} >\n                        <img src={banners[0].url} hidden/>\n                        <div className=\"text\"><p className='ellipsis'>{banners[0].text}</p></div>\n                    </a></div>\n                    <div className=\"right-col fr\">\n                        <div className=\"banner-item\" style={ {backgroundImage: `url(${banners[1].url})`} }><a href={banners[1].href ? banners[1].href : \"javascript:void(0);\"} >\n                            <img src={banners[1].url} hidden/>\n                            <div className=\"text\"><p className='ellipsis'>{banners[1].text}</p></div>\n                        </a></div>\n                        <div className=\"banner-item\" style={ {backgroundImage: `url(${banners[2].url})`} }><a href={banners[2].href ? banners[2].href : \"javascript:void(0);\"} >\n                            <img src={banners[2].url} hidden/>\n                            <div className=\"text\"><p className='ellipsis'>{banners[2].text}</p></div>\n                        </a></div>\n                    </div>\n                </div>\n            )\n    }\n\n    render() {\n        const { articles, tags, curTagId, allNum, page, allPage } = this.state;\n        return (\n            <div className=\"blog-articles-layout \">\n                { this.showBanners() }\n                <div className=\"blog-tags\">\n                    <Link to={{pathname: '/'}} onClick={ () => { this.getArticles(1, null) } } className={ classNames(\"tag\", {'tag-active': !curTagId}) } >所有文章</Link>\n                    { tags && tags.length ? tags.map( tag => (tag.count > 0) && <Link to={{pathname: '/', search: `?tag=${tag.id}`}} onClick={ () => { this.getArticles(1, tag.id) } } className={ classNames(\"tag\", {'tag-active': curTagId == tag.id}) } key={tag.id} >{tag.name}</Link>) : null}\n                </div>\n                <div className=\"blog-articles-list\">\n                    <ul>\n                        {articles && articles.length ? articles.map( (article, index)=> <li className=\"article-tiem\" key={article.id}><Link to={`/article/${article.id}`} >\n                            <span className=\"article-num\">{( index + 1)}</span>\n                            <h3 className='nowrapmulti'>{article.title}</h3>\n                        </Link></li>) : null}\n                    </ul>\n                </div>\n                { allPage > 1 ? <Pagination size=\"small\" total={allNum} current={page} defaultPageSize={PageSize} onChange={ this.changePage } /> : null}\n            </div>\n        )\n    }\n}"],"sourceRoot":""}